---
title: "MAGs"
editor_options: 
  chunk_output_type: console
---

{{< include _setup.qmd >}}

```{r}
library(tidyverse)
library(gopheR)
```

```{r}
# source(file.path(rprojroot::find_rstudio_root_file(), "R", "_common.R"))

mags <- with_gopher_con(function(c) {
  gopher_query(c, "
    SELECT *
    FROM mag
    ORDER BY completeness DESC
  ")
}) %>%
  mutate(profile = glue::glue("[{mag_id}](mag/{mag_id}.html)"))

mags %>%
  mutate(
    MAG = glue::glue('<a href="mag/{mag_id}.html">{mag_id}</a>')
  ) %>%
  select(MAG, completeness, contamination, taxonomy) |>
  knitr::kable()
```

